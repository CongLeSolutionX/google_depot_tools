{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "752325f3_b64c3159",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 307,
      "author": {
        "id": 3355336
      },
      "writtenOn": "2024-11-20T02:31:31Z",
      "side": 1,
      "message": "nit: I suggest doing like so for readability/preventing mistakes:\n\n```\ngit_postprocess(template, bootstrap_git_dir, *, is_system_git\u003dTrue/False)\n```",
      "range": {
        "startLine": 307,
        "startChar": 49,
        "endLine": 307,
        "endChar": 62
      },
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e883e581_471d7d84",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1544922
      },
      "writtenOn": "2024-11-20T02:19:15Z",
      "side": 1,
      "message": "Using a separate path so that users that have set up `depot_tools` before using the bootstrap git will still set their global config if they have recently installed git directly.",
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0715a03_e71a0af7",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 3355336
      },
      "writtenOn": "2024-11-20T02:31:31Z",
      "side": 1,
      "message": "Can\u0027t we always do `--global` instead of `--system`?  IMO editing the system config is really weird.  I don\u0027t think this really harms existing users of either setup...?\n\n(Also that would simplify this logic)",
      "parentUuid": "e883e581_471d7d84",
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b500a198_37e4a9e2",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 3355336
      },
      "writtenOn": "2024-11-20T02:35:09Z",
      "side": 1,
      "message": "Sorry, forgot something.  For automatically editing the user\u0027s config, that can be somewhat invasive.  It\u0027s pretty standard to set a custom Git config option that indicates that it has already run and doesn\u0027t need to be run again, rather than a file.\n\nThat way, removing the file doesn\u0027t re-clobber the user\u0027s global config.  And the user can manually add a `win_bootstrap \u003d skip` option to manually skip this.\n\nI think this is used in various places in depot_tools/luci.  If you find my auth CLs in depot_tools, you can see how I did that, with an incrementing version number to re-run bootstrap if any updates were made.  (I\u0027ll link it later if I don\u0027t forget).\n\nEven if you don\u0027t do the above, I recommend adding your comment as a comment for context.",
      "parentUuid": "b0715a03_e71a0af7",
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a12a18b8_4552025f",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1544922
      },
      "writtenOn": "2024-11-20T02:39:32Z",
      "side": 1,
      "message": "Good point. I could switch the level to `--global` and just bump up the postprocess version, so existing `depot_tools` users set up their global config?",
      "parentUuid": "b0715a03_e71a0af7",
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be890ed6_d015f26d",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2024-11-20T03:12:12Z",
      "side": 1,
      "message": "\u003e For automatically editing the user\u0027s config, that can be somewhat invasive\n\nThis is a great point - when we bundled our own git, it was okay to set its system settings, but it\u0027s not okay to set user\u0027s global config without their consent (or at least informing them). With that, I think we should ask user for permission to set it up, and maybe even hard fail fetch/gclient operation if postprocess_path is not set.",
      "parentUuid": "a12a18b8_4552025f",
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfeb1e48_66e66f73",
        "filename": "bootstrap/bootstrap.py",
        "patchSetId": 1
      },
      "lineNbr": 331,
      "author": {
        "id": 1544922
      },
      "writtenOn": "2024-11-20T03:41:32Z",
      "side": 1,
      "message": "Hmm this seems more complicated than I thought. I\u0027m happy to update the bootstrap script to use the bundled git by default so no one is blocked by this change. See https://chromium-review.googlesource.com/c/chromium/tools/depot_tools/+/6033861",
      "parentUuid": "be890ed6_d015f26d",
      "revId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "No-Unresolved-Comments",
        "description": {
          "value": "Changes that have unresolved comments are not submittable. Unless overridden with Unresolved-Comment-Reason: \u003creason\u003e line in change message."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:unresolved"
          }
        },
        "submittabilityExpression": {
          "expressionString": "-has:unresolved"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "message:\"^.*Unresolved-Comment-Reason:.*\""
          }
        },
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:unresolved"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-has:unresolved"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*Unresolved-Comment-Reason:.*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*Unresolved-Comment-Reason:.*\""]}
      },
      "patchSetCommitId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval. Using a trusted device is required, see go/gerrit-onboarding#review-enforcement."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "Submit requirement for the \u0027Verified\u0027 label"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:false"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:true"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:false"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:true"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "cb873a55bcc4612dd38afda0421cf9ec7002a3b9",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}