{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f625f0d4_93a5929e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1118894
      },
      "writtenOn": "2024-10-10T09:20:16Z",
      "side": 1,
      "message": "This change kinda break things, because an import statement in the args.gn can be current-directory-relative or -C-directory relative, but the _gn_lines function assumes the import is -C-directory-relative, and so the wrapper breaks on things where ninja itself would work just fine.",
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8c0289c_c42be6fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1581717
      },
      "writtenOn": "2024-11-04T09:03:39Z",
      "side": 1,
      "message": "We also spotted this on our side, ended up patching a builder to use a repo-absoulte path (//foo.gni) instead of a relative one. Probably needs a demo repro and a patch.",
      "parentUuid": "f625f0d4_93a5929e",
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f72dfbc_ff9f739d",
        "filename": "ninja.py",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2024-07-29T18:09:18Z",
      "side": 1,
      "message": "Can we change this so that it only errors out if you\u0027re actually trying to do a build (as opposed to one of the other ninja commands)? There\u0027s no need to error out otherwise, and I don\u0027t think it\u0027s great to break legit uses of ninja for this. IMO this script should be as close to just a wrapper around ninja as possible.",
      "fixSuggestions": [
        {
          "fixId": "51512dbd_071eeeb2",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "ninja.py",
              "range": {
                "startLine": 33,
                "startChar": 0,
                "endLine": 34,
                "endChar": 0
              },
              "replacement": "def checkOutdir(ninja_args, is_build):\n"
            },
            {
              "path": "ninja.py",
              "range": {
                "startLine": 62,
                "startChar": 0,
                "endLine": 67,
                "endChar": 0
              },
              "replacement": "            if is_build:\n                print(\n                    \"depot_tools/ninja.py: detect use_remoteexec\u003dtrue\\n\"\n                    \"Use `autoninja` to choose appropriate build tool\\n\",\n                    file\u003dsys.stderr)\n                sys.exit(1)\n            else:\n                print(\n                    \"depot_tools/ninja.py: detect use_remoteexec\u003dtrue\\n\"\n                    \"Use `autoninja` to choose appropriate build tool\\n\"\n                    \"Or run `gn clean %s` to switch from siso to ninja\\n\" %\n                    (out_dir),\n                    file\u003dsys.stderr)\n                sys.exit(1)\n"
            },
            {
              "path": "ninja.py",
              "range": {
                "startLine": 72,
                "startChar": 0,
                "endLine": 73,
                "endChar": 0
              },
              "replacement": "        checkOutdir(ninja_args, True)\n"
            },
            {
              "path": "ninja.py",
              "range": {
                "startLine": 123,
                "startChar": 0,
                "endLine": 124,
                "endChar": 0
              },
              "replacement": "            checkOutdir(args[1:], True)\n"
            }
          ]
        }
      ],
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08c66f23_c346f722",
        "filename": "ninja.py",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1581717
      },
      "writtenOn": "2024-08-09T07:45:30Z",
      "side": 1,
      "message": "Hi, any update on this?",
      "parentUuid": "7f72dfbc_ff9f739d",
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a63c78c4_ea319edb",
        "filename": "ninja.py",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2024-08-12T18:44:28Z",
      "side": 1,
      "message": "I\u0027ve not heard an update. I suggest just posting a CL for the change, and we can review it. Or I\u0027ll do that when I get around to it, but I make no promises about timeliness :).",
      "parentUuid": "08c66f23_c346f722",
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}